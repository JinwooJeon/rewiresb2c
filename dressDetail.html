<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head> 
	<meta http-equiv="content-type" content="text/html; charset=euc-kr">
	<title>dressndress</title>
	<link href="B2Cstyle.css" rel="stylesheet" type="text/css" />
	<link href="detailDressstyle.css" rel="stylesheet" type="text/css" />
	<SCRIPT LANGUAGE="JavaScript"> 
		
		var numberOfPics =  11;
		var currentPicIndex = 0;
		
		function onCreate(){
			setDressList(); // 왼쪽 하단 드레스 리스트
			setOtherDressList(); //오른쪽 중간 다른 드레스 리스트
			setImgSize(document.getElementById("designerPicImg"), 160,170); //디자이너 이미지 비율조정
		}
		
		function setDressList(){
			var doc = document;
			var dressListText = "<tr>";
				dressListText +="<td class=\"dressListCell\" align=\"center\" onmouseover=\"smallDressOver(this)\" onmouseout=\"smallDressOut(this)\" onclick=\"smallDressClick(this)\">";
					dressListText +="<img class=\"dressListImg\" src=\"images/dressbig.jpg\">";
				dressListText +="</td>";
			for(var i=0; i<10; i++){
				dressListText +="<td class=\"dressListCell\" align=\"center\" onmouseover=\"smallDressOver(this)\" onmouseout=\"smallDressOut(this)\" onclick=\"smallDressClick(this)\">";
					dressListText +="<img class=\"dressListImg\" src=\"images/dresssmall"+i+".jpg\">";
				
					
				dressListText +="</td>";
			}
			dressListText += "</tr>";
			doc.getElementById("dressPhotoListTable").innerHTML = dressListText
			doc.getElementById("dressPhotoListTable").style.width= 90*11+"px";
			
			for(var i=0; i< doc.getElementById("dressPhotoListTable").childNodes[0].childNodes[0].childNodes.length; i++){
				setImgSize(doc.getElementById("dressPhotoListTable").childNodes[0].childNodes[0].childNodes[i].childNodes[0],90,100)
			} 		
		}
		
		function setOtherDressList(){
			var doc = document;
			var otherDressListText = "<tr>";
			for(var i=2; i<7; i++){
				otherDressListText +="<td align=\"center\">";
					otherDressListText +="<img class=\"otherDressImg\" src=\"images/dresssmall"+i+".jpg\">";
				otherDressListText +="</td>";
			}
			otherDressListText += "</tr>";
			doc.getElementById("otherDressTable").innerHTML = otherDressListText
			
			for(var i=0; i< doc.getElementById("otherDressTable").childNodes[0].childNodes[0].childNodes.length; i++){
				setImgSize(doc.getElementById("otherDressTable").childNodes[0].childNodes[0].childNodes[i].childNodes[0],90,100)
			} 					
		}
	
		function shopNameMouseOver(node){
			node.style.color="rgb(20, 20, 200)";
			node.style.backgroundColor="rgb(150, 150, 250)";
		}
		function shopNameMouseOut(node){
			node.style.color="rgb(0, 0, 0)";
			node.style.backgroundColor="rgb(255, 255, 255)";
		}
		
		function dressListMouseOver(){
			var doc = document;
			doc.getElementById("scrollLeftButton").style.display="inline";
			doc.getElementById("scrollRightButton").style.display="inline";
		}
		function dressListMouseOut(){
			var doc = document;
			doc.getElementById("scrollLeftButton").style.display="none";
			doc.getElementById("scrollRightButton").style.display="none";
		}
		
		function dressListScrollButtonOver(node){
			dressListMouseOver();
			node.style.backgroundColor="rgba(10,10,230,0.5)"
			node.style.color="rgb(10, 10, 230)";
		}
		function dressListScrollButtonOut(node){
			dressListMouseOut();
			node.style.backgroundColor="rgba(255,255,255,0.5)"
			node.style.color="rgb(0, 0, 0)";
		}
		
		function dressListScroll(index){
			var doc = document;
			if(index==0)
				doc.getElementById("dressPhotoListDiv").scrollLeft -= 90;
			else
				doc.getElementById("dressPhotoListDiv").scrollLeft += 90;			
		}
		
		
		function smallDressOver(node){
			node.style.backgroundColor="rgba(80,80,180,0.5)";
			node.childNodes[0].style.opacity=0.5;
		}
		function smallDressOut(node){
			node.style.backgroundColor="rgb(255,255,255)";
			node.childNodes[0].style.opacity=1;
		}
		function smallDressClick(node){
			currentPicIndex = node.cellIndex;
			var doc = document;
			var ratio = getImgRatio(node.childNodes[0].src);
			
			doc.getElementById("dressPhotoDiv").innerHTML = 
			"<img id=\"dressBigImg\" class=\"dressPhotoImg\" src=\"images/dressbig.jpg\" style=\"cursor:pointer;\" onclick=\"dressBigImgClick();\" >"
			doc.getElementById("dressBigImg").src = node.childNodes[0].src;
			setImgSize(doc.getElementById("dressBigImg"), 650, 700);
			doc.getElementById("dressBigImg").style.marginTop = (700-doc.getElementById("dressBigImg").style.height.slice(0,-2))/2 + "px";
		}
		
		function getImgRatio(source){
			var Imginfo = new Image();
			Imginfo.src = source;
			var width = Imginfo.width;
			var height = Imginfo.height;		
			
			return width/height;
		}
		
		function setImgSize(node, moldWidth, moldHeight){
			var Imgratio = getImgRatio(node.src);
			var moldratio = moldWidth/moldHeight;
			if(Imgratio<moldratio){
				node.style.width = moldHeight*Imgratio + "px";
				node.style.height = moldHeight + "px";
				
			}
			else{
				node.style.width = moldWidth + "px";
				node.style.height = moldWidth/Imgratio + "px";
			}
			
		}
		
		function designerPicMouseOver(){
			var doc = document;
			doc.getElementById("designerPicImg").src = "images/designer.jpg";
		}
		function designerPicMouseOut(){
			var doc = document;
			doc.getElementById("designerPicImg").src = "images/designergray.jpg";
		}
		
		function dressBigImgClick(){
			var doc = document;
			doc.getElementById("photoFocusGrayDiv").style.display = "inline";
			doc.getElementById("focusedPhoto").src = doc.getElementById("dressBigImg").src;
			setImgSize(doc.getElementById("focusedPhoto"), 650, 700);
			doc.getElementById("focusedPhoto").style.marginTop = (700-doc.getElementById("focusedPhoto").style.height.slice(0,-2))/2 + "px";
		}
		
		function closeFocusGrayDiv(){
			var doc = document;
			alert(doc.getElementById("focusedPhotoLeft").style.background);
			if(doc.getElementById("focusedPhotoLeft").style.background!="rgba(0, 0, 0, 0)" || doc.getElementById("focusedPhotoRight").style.background!="rgba(0, 0, 0, 0)"){
				doc.getElementById("focusedPhotoLeft").style.background ="rgba(0,0,0,0)";
				doc.getElementById("focusedPhotoRight").style.background="rgba(0,0,0,0)";
			}
			else{
			doc.getElementById("photoFocusGrayDiv").style.display = "none";			
			}
		}
		
		function focusedPhotoButtonClick(index,node){
			node.style.background="rgba(0,0,0,0.5)";
		}
	</SCRIPT>
</head> 
<body onload="onCreate();"> 

<!--  드레스 클릭 Div  -->		

	<div id="photoFocusGrayDiv" align="center" valign="center"  onclick="closeFocusGrayDiv()">
		<div id="focusedPhotoDiv" align="center">
			<ul>
				<li>
					<input id="focusedPhotoLeft" class="focusedPhotoButton" type="button" value="<" onclick="focusedPhotoButtonClick(0,this);">
				</li>
				<li style="width:650px;">
					<img id="focusedPhoto">
				</li>
				<li>
					<input id="focusedPhotoRight" class="focusedPhotoButton" type="button" value=">" onclick="focusedPhotoButtonClick(1,this);">
				</li>
			</ul>
		</div>
	</div>
	
<!--  상단 메뉴  -->		

	<div>
		<div id='topMenu'>
			<table class='menuTable' align="center">
				<tr>
					<td class='logo'>Dress N Dress</td>
					<td class='menuCategory'>
						<ul>
							<li><button class='a1' >by</button></li>
							<li><a class='a2' href="#" onmouseover="showMenu(1)" onmouseout="startTimer()" >실루엣</a></li>
							<li><a class='a2' href="#" onmouseover="showMenu(2)" onmouseout="startTimer()">색깔</a></li>
							<li><button class='a1' >그리고</li>
							<li><a class='a2' href="#" onmouseover="showMenu(3)" onmouseout="startTimer()">디테일</a></li>
							<li><button class='a1' >또는</li>
							<li><a class='a2' href="#" onmouseover="showMenu(4)" onmouseout="startTimer()">드레스 샵</a></li>
						</ul>
					</td>
				</tr>
			</table>
		</div>
	<div>
	
<!--  네비게이션  -->		
	
	<div id="mainDressDetail" align="center">
		<div id="topNavigation" align="left">
			<input class="detailDressButton" type="button" value="아비가일 드레스" onmouseover="shopNameMouseOver(this)" onmouseout="shopNameMouseOut(this)">
			>
			<input class="detailDressButton" type="button" value="오뜨마리에1">
		</div>
		<table >
			<tr>

<!--  왼쪽  -->		

				<td id="dressDetailCell1" valign="top">
					<div id="dressPhotoDiv" align="center" valign="center">
						<img id="dressBigImg" class="dressPhotoImg" src="images/dressbig.jpg" style="cursor:pointer;" onclick="dressBigImgClick();" >
					</div>
					<div id="dressPhotoListDiv" class="dressPhotoListDiv" onmouseover="dressListMouseOver();" onmouseout="dressListMouseOut()">									
						<table id="dressPhotoListTable">
						</table>
					</div>
					<input class="dressPhotoListScroll" id="scrollLeftButton" type="button" value="<" onmouseover="dressListScrollButtonOver(this)" onmouseout="dressListScrollButtonOut(this)" onclick="dressListScroll(0)">
					<input class="dressPhotoListScroll" id="scrollRightButton" type="button" value=">"onmouseover="dressListScrollButtonOver(this)" onmouseout="dressListScrollButtonOut(this)" onclick="dressListScroll(1)">		
				</td>
				
<!--  오른쪽  -->				
				
				<td id="dressDetailCell2" valign="top">
					<table id="designerTable">
						<tr>
							<td class="designerPicCell" valign="top" align="center">
								<ul>
									<li onmouseover="designerPicMouseOver();" onmouseout="designerPicMouseOut()">
										<img id="designerPicImg" src="images/designergray.jpg">
									</li>
									<li id="designerName" align="center">
										전진우 디자이너
									</li>
								</ul>
							</td>
							<td class="designConceptCell" align="center">
									드레스 컨셉 설명
							</td>
						</tr>
					</table>
					<table id="archiveTable">
						<tr>
							<td class="archiveGraphCell">
								<div id="archiveGraphFill"></div>
								<input id="archiveGraphText" type="button" value="이 드레스를 입어 보고 싶어요">
							</td>
							<td class="storeButtonCell" align="center"> 
								<input id="storeButton" type="button" value="보관함에 담기" onmouseover="shopNameMouseOver(this)" onmouseout="shopNameMouseOut(this)">
							</td>
						</tr>
					</table>
					<div id="otherDressDiv">
						<div class="otherDressText">
							이 드레스와 주로 같이 입어 보는 다른 드레스들
						</div>
						<table id="otherDressTable">
						</table>	
					</div>
					<div id="userCommentDiv">
						<div class="userCommentTitle">
							이 드레스를 직접 입어 본 신부님들은
						</div>
						<table>
							<tr>
								<td>
									김진웅 |  어머 너무 예뻐요!
								</td>
							</tr>					
							<tr>
								<td>
									고해신 |  개못생김ㅋ
								</td>
							</tr>					
							<tr>
								<td>
									방호남 |  그럭저럭
								</td>
							</tr>					
							<tr>
								<td>
									주상돈 |  이런 스킨은 rp로 사야 제맛
								</td>
							</tr>					
						</table>						
					</div>
					
				</td>
			</tr>
		</table>
	</div>
</body> 
</html> 
